apiVersion: v2
kind: Topic
metadata:
  name: my-topic
  cluster: kafka-cluster
spec:
  partitions: 1
  replicationFactor: 1
  configs:
    cleanup.policy: delete
---
apiVersion: v2
kind: Subject
metadata:
  name: example-subject.value
  cluster: kafka-cluster
spec:
  compatibility: BACKWARD
  schema: |
    {
      "$id": "https://mycompany.com/example.json",
      "$schema": "https://json-schema.org/draft/2019-09/schema",
      "type": "object",
      "title": "Example",
      "description": "Json schema for MyRecord",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": [ "string", "null" ]
        }
      },
      "required": [ "id" ],
      "additionalProperties": false
    }
  format: JSON
