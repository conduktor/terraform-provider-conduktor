---
page_title: "Conduktor : conduktor_console_resource_policy_v1 "
subcategory: "self-serve/v1"
description: |-
    Resource for managing Conduktor Console self service resource policies.
    This resource allows you to create, read, update and delete resource policies in Conduktor.
---

# conduktor_console_resource_policy_v1

Resource for managing Conduktor resource policies.
This resource allows you to create, read, update and delete resource policies in Conduktor.

## Example Usage

### Simple resource policy
```terraform
resource "conduktor_console_resource_policy_v1" "simple" {
  name = "simple"
  labels = {
    "business-unit" = "delivery"
  }
  spec = {
    target_kind = "Topic"
    description = "A policy to check some basic rule for a topic"
    rules = [
      {
        condition     = "int(string(spec.configs[\"retention.ms\"])) >= 60000 && int(string(spec.configs[\"retention.ms\"])) <= 3600000"
        error_message = "retention should be between 1m and 1h"
      }
    ]
  }
}
```

### Complex resource policy
```terraform
resource "conduktor_console_resource_policy_v1" "complex" {
  name = "complex"
  labels = {
    "business-unit" = "delivery"
  }
  spec = {
    target_kind = "Topic"
    description = "A policy to check some basic rule for a topic"
    rules = [
      {
        condition     = "metadata.name.matches(\"^click.[a-z0-9-]+.(avro|json)$\")"
        error_message = "topic name should match ^click.(?<event>[a-z0-9-]+).(avro|json)$"
      },
      {
        condition     = "metadata.labels[\"data-criticality\"] in [\"C0\", \"C1\", \"C2\"]"
        error_message = "data-criticality should be one of C0, C1, C2"
      }
    ]
  }
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Resource Policy name, must be unique, acts as an ID for import
- `spec` (Attributes) Resource Policy specification (see [below for nested schema](#nestedatt--spec))

### Optional

- `labels` (Map of String) Custom labels for the resource policy.

<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Required:

- `rules` (Attributes Set) Set of all rules to apply on the resource. (see [below for nested schema](#nestedatt--spec--rules))
- `target_kind` (String) Type of the resource to apply policy on. Valid values are: ApplicationGroup, Connector, Subject, Topic

Optional:

- `description` (String) Description of the resource policy

<a id="nestedatt--spec--rules"></a>
### Nested Schema for `spec.rules`

Required:

- `condition` (String) A valid CEL expression, see [CEL documentation](https://cel.dev/) for more information
- `error_message` (String) The error message that will be displayed when the condition is not met




