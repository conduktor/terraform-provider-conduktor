---
page_title: "Conduktor : conduktor_gateway_token_v2 "
subcategory: "gateway/v2"
description: |-
    Resource for managing Conduktor Gateway Tokens associated with Service Accounts.
    This resource allows you to create and update authentication tokens associated with service accounts in Conduktor Gateway.
    For a full workflow example of how to issue and use tokens for Gateway service accounts, refer to our [docs site](https://docs.conduktor.io/gateway/how-to/manage-service-accounts-and-acls/#manage-a-local-service-account).
---

# conduktor_gateway_token_v2

Resource for managing Conduktor Gateway tokens.
This resource allows you to create and update tokens associated with service accounts in Conduktor Gateway.  
After the initial token creation the provider will subsequently verify the validity of the token by checking the expiry time, and if needed, will create a new one on the next apply.

## Example Usage

### Simple token associated to a service account, no virtual cluster named, uses the default virtual cluster named passthrough
Two example output blocks to leverage the token value, in either an output, or to local file.
```terraform
resource "conduktor_gateway_token_v2" "simple" {
  username         = "user_passthrough"
  lifetime_seconds = 3600
}

output "simple_token" {
  value     = conduktor_gateway_token_v2.simple.token
  sensitive = true
}

resource "local_file" "simple_token" {
  content  = conduktor_gateway_token_v2.simple.token
  filename = "${path.module}/simple_token.txt"
}
```

### Complex token associated to a service account, with a virtual cluster named
Two example output blocks to leverage the token value, in either an output, or to local file.
```terraform
resource "conduktor_gateway_token_v2" "complex" {
  vcluster         = "vcluster_sa"
  username         = "user10"
  lifetime_seconds = 3600
}


output "complex_token" {
  value     = conduktor_gateway_token_v2.complex.token
  sensitive = true
}

resource "local_file" "complex_token" {
  content  = conduktor_gateway_token_v2.complex.token
  filename = "${path.module}/complex_token.txt"
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `lifetime_seconds` (Number) The life time of the token in milliseconds.
- `username` (String) The username of the local service account to create the token for.

### Optional

- `vcluster` (String) The name of the virtual cluster to create the token for. If not provided, the token will be created in the default passthrough virtual cluster.

### Read-Only

- `token` (String, Sensitive) Response token.


