---
page_title: "Conduktor : conduktor_console_partner_zone_v2 "
subcategory: "console/v2"
description: |-
    Resource for managing Conduktor Console Partner Zone.
    This resource allows you to create, read, update and delete partner zones in Conduktor.
---

# conduktor_console_partner_zone_v2

Resource for managing Conduktor partner zones.
This resource allows you to create, read, update and delete partner zones in Conduktor.

> [!WARNING]
> Minimum requirement for this resource:
>   - Conduktor Console version is `1.32.0`.
>   - Conduktor Gateway `3.6.1`.
> For more information, please refer to the [Conduktor documentation](https://docs.conduktor.io/platform/navigation/partner-zones/#prerequisites).

## Example Usage

### Simple partner zone
```terraform
resource "conduktor_console_partner_zone_v2" "simple" {
  name = "simple"
  spec = {
    cluster      = "gw-cluster"
    display_name = "Simple Partner Zone"
    url          = "https://partner1.com"
    authentication_mode = {
      type            = "PLAIN"
      service_account = "simple-partner"
    }
    topics = [
      {
        name          = "topic"
        backing_topic = "kafka-topic"
        permission    = "WRITE"
      }
    ]
    traffic_control_policies = {
      max_produce_rate    = 1e+06
      max_consume_rate    = 1e+06
      limit_commit_offset = 30
    }
  }
}
```

### Complex partner zone
```terraform
resource "conduktor_console_partner_zone_v2" "complex" {
  name = "complex"
  spec = {
    cluster      = "gw-cluster"
    display_name = "Complex Partner Zone"
    description  = "An external partner to exchange data with."
    url          = "https://partner1.com"
    partner = {
      name  = "John Doe"
      role  = "Data analyst"
      email = "johndoe@partner.io"
      phone = "07827 837 177"
    }
    authentication_mode = {
      type            = "PLAIN"
      service_account = "external-partner"
    }
    topics = [
      {
        name          = "topic-a"
        backing_topic = "kafka-topic-a"
        permission    = "WRITE"
      },
      {
        name          = "topic-b"
        backing_topic = "kafka-topic-b"
        permission    = "READ"
      }
    ]
    traffic_control_policies = {
      max_produce_rate    = 1e+06
      max_consume_rate    = 1e+06
      limit_commit_offset = 30
    }
    headers = {
      add_on_produce = [
        {
          key                = "key"
          value              = "value"
          override_if_exists = false
        }
      ],
      remove_on_consume = [
        {
          key_regex = "my_org_prefix.*"
        }
      ]
    }
  }
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Partner Zone name, must be unique, acts as an ID for import
- `spec` (Attributes) Partner Zone specification (see [below for nested schema](#nestedatt--spec))

### Optional

- `labels` (Map of String) Custom labels for the partner zone

<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Required:

- `authentication_mode` (Attributes) (see [below for nested schema](#nestedatt--spec--authentication_mode))
- `cluster` (String) Cluster name linked with the partner zone. Must be a valid Console cluster with the Provider configured as Gateway
- `topics` (Attributes Set) Set of all topics to be exposed in the partner zone (see [below for nested schema](#nestedatt--spec--topics))

Optional:

- `description` (String) Description of the partner zone
- `display_name` (String) Display name of the partner zone
- `headers` (Attributes) Key-Value HTTP headers to add to requests (see [below for nested schema](#nestedatt--spec--headers))
- `partner` (Attributes) Partner information for the partner zone (see [below for nested schema](#nestedatt--spec--partner))
- `traffic_control_policies` (Attributes) Traffic control policies for the partner zone (see [below for nested schema](#nestedatt--spec--traffic_control_policies))
- `url` (String) URL of the partner zone

<a id="nestedatt--spec--authentication_mode"></a>
### Nested Schema for `spec.authentication_mode`

Required:

- `service_account` (String) Must be a Local Gateway Service Account. It doesn't need to exist before creating the Partner Zone. The service account will be created automatically
- `type` (String) Authentication type for the partner zone. Valid values are: MTLS, OAUTHBEARER, PLAIN


<a id="nestedatt--spec--topics"></a>
### Nested Schema for `spec.topics`

Required:

- `backing_topic` (String) Internal name of the topic that you want to share with your partner
- `name` (String) Name of the topic as it should appear to your partner. This can be different from backing_topic
- `permission` (String) Permission to apply on the topic for the partner. Valid values are: READ, WRITE


<a id="nestedatt--spec--headers"></a>
### Nested Schema for `spec.headers`

Optional:

- `add_on_produce` (Attributes Set) Sets a key-value pair to be added when producing to the partner zone (see [below for nested schema](#nestedatt--spec--headers--add_on_produce))
- `remove_on_consume` (Attributes Set) Regular expression for finding the keys of headers to be removed on consume of the partner zone (see [below for nested schema](#nestedatt--spec--headers--remove_on_consume))

<a id="nestedatt--spec--headers--add_on_produce"></a>
### Nested Schema for `spec.headers.add_on_produce`

Required:

- `key` (String) Key to add to the request headers when producing messages to the topic
- `override_if_exists` (Boolean) If set to true, the header will override any existing header with the same key
- `value` (String) Value to add to the request headers when producing messages to the topic


<a id="nestedatt--spec--headers--remove_on_consume"></a>
### Nested Schema for `spec.headers.remove_on_consume`

Required:

- `key_regex` (String) Must be a valid java regular expression



<a id="nestedatt--spec--partner"></a>
### Nested Schema for `spec.partner`

Required:

- `name` (String) Name of the Partner

Optional:

- `email` (String) Email of the Partner
- `phone` (String) Phone number of the Partner
- `role` (String) Role of the Partner


<a id="nestedatt--spec--traffic_control_policies"></a>
### Nested Schema for `spec.traffic_control_policies`

Optional:

- `limit_commit_offset` (Number) Sets the maximum number of commits requests (in requests/minute) that the partner can make per Gateway node.
- `max_consume_rate` (Number) Sets the maximum rate (in bytes/s) at which the partner can consume messages from the topics per Gateway node.
- `max_produce_rate` (Number) Sets the maximum rate (in bytes/s) at which the partner can produce messages to the topics per Gateway node.





## Import

In order to import a Partner Zone into Conduktor, you need to know the Partner Zone ID.

For example, using an [`import` block](https://developer.hashicorp.com/terraform/language/import) :
```terraform
import {
  to = conduktor_console_partner_zone_v2.example
  id = "partner-zone"
}
```

Using the `terraform import` command:
```shell
terraform import conduktor_console_partner_zone_v2.example partner-zone
```
