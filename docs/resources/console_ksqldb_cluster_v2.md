---
page_title: "Conduktor : conduktor_console_ksqldb_cluster_v2 "
subcategory: "console/v2"
description: |-
    Resource for managing Conduktor KsqlDB clusters definition linked to an existing Kafka cluster definition inside Conduktor Console.
    This resource allows you to create, read, update and delete KsqlDB clusters connections from Conduktor Console.
---

# conduktor_console_ksqldb_cluster_v2

Resource for managing [Conduktor KsqlDB clusters](https://docs.conduktor.io/guide/reference/console-reference#ksqldbcluster) definition linked to an existing Kafka cluster definition inside Conduktor Console.
This resource allows you to create, read, update and delete KsqlDB clusters connections from Conduktor Console.

## Example Usage

### Simple KsqlDB cluster
This example creates a simple KsqlDB cluster connection without any authentication.
```terraform
resource "conduktor_console_ksqldb_cluster_v2" "simple" {
  name    = "simple-ksqldb"
  cluster = "kafka-cluster"
  spec = {
    display_name = "Simple KSQLDB cluster"
    url          = "http://localhost:8088"
  }
}
```

### Basic KsqlDB cluster
This example creates a complex KsqlDB cluster connection with basic authentication.
```terraform
resource "conduktor_console_ksqldb_cluster_v2" "basic" {
  name    = "basic-ksqldb"
  cluster = "kafka-cluster"
  spec = {
    display_name = "Basic KSQLDB cluster"
    url          = "http://localhost:8088"
    headers = {
      X-PROJECT-HEADER = "value"
      Cache-Control    = "no-cache"
    }
    ignore_untrusted_certificate = false
    security = {
      basic_auth = {
        username = "user"
        password = "password"
      }
    }
  }
}
```

### Bearer token KsqlDB cluster
This example creates a complex KsqlDB cluster connection with bearer token authentication.
```terraform
resource "conduktor_console_ksqldb_cluster_v2" "bearer" {
  name    = "bearer-ksqldb"
  cluster = "kafka-cluster"
  spec = {
    display_name = "Bearer KSQLDB cluster"
    url          = "http://localhost:8088"
    headers = {
      X-PROJECT-HEADER = "value"
      Cache-Control    = "no-cache"
    }
    ignore_untrusted_certificate = false
    security = {
      bearer_token = {
        token = "token"
      }
    }
  }
}
```

### mTLS KsqlDB cluster
This example creates a complex KsqlDB cluster connection with mTLS authentication.
```terraform
resource "conduktor_console_ksqldb_cluster_v2" "mtls" {
  name    = "mtls-ksqldb"
  cluster = "kafka-cluster"
  spec = {
    display_name = "mTLS KSQLDB cluster"
    url          = "https://localhost:8088"
    headers = {
      X-PROJECT-HEADER = "value"
      Cache-Control    = "no-cache"
    }
    ignore_untrusted_certificate = false
    security = {
      ssl_auth = {
        key               = <<EOT
-----BEGIN PRIVATE KEY-----
MIIOXzCCDUegAwIBAgIRAPRytMVYJNUgCbhnA+eYumgwDQYJKoZIhvcNAQELBQAw
...
IFyCs+xkcgvHFtBjjel4pnIET0agtbGJbGDEQBNxX+i4MDA=
-----END PRIVATE KEY-----
EOT
        certificate_chain = <<EOT
-----BEGIN CERTIFICATE-----
MIIOXzCCDUegAwIBAgIRAPRytMVYJNUgCbhnA+eYumgwDQYJKoZIhvcNAQELBQAw
...
IFyCs+xkcgvHFtBjjel4pnIET0agtbGJbGDEQBNxX+i4MDA=
-----END CERTIFICATE-----
EOT
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cluster` (String) Kafka cluster name linked with the current KsqlDB cluster. Must already exist in Conduktor Console.
- `name` (String) KsqlDB cluster name, must be unique, acts as an ID for import.
- `spec` (Attributes) KsqlDB cluster specification. (see [below for nested schema](#nestedatt--spec))

<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Required:

- `display_name` (String) KsqlDB cluster display name.
- `url` (String) URL of a KsqlDB cluster.

Optional:

- `headers` (Map of String) Key-Value HTTP headers to add to requests
- `ignore_untrusted_certificate` (Boolean) Ignore untrusted certificate for KsqlDB cluster requests
- `security` (Attributes) KsqlDB cluster security configuration. One of `basic_auth`, `bearer_token`, `ssl_auth`. If not set, the cluster will be considered as unsecured. (see [below for nested schema](#nestedatt--spec--security))

<a id="nestedatt--spec--security"></a>
### Nested Schema for `spec.security`

Optional:

- `basic_auth` (Attributes) Basic auth for KsqlDB cluster security configuration. (see [below for nested schema](#nestedatt--spec--security--basic_auth))
- `bearer_token` (Attributes) Bearer token for KsqlDB cluster security configuration. (see [below for nested schema](#nestedatt--spec--security--bearer_token))
- `ssl_auth` (Attributes) SSL auth (mTLS) for KsqlDB cluster security configuration. (see [below for nested schema](#nestedatt--spec--security--ssl_auth))

<a id="nestedatt--spec--security--basic_auth"></a>
### Nested Schema for `spec.security.basic_auth`

Required:

- `password` (String, Sensitive) KsqlDB cluster basic auth password.
- `username` (String) KsqlDB cluster basic auth username.


<a id="nestedatt--spec--security--bearer_token"></a>
### Nested Schema for `spec.security.bearer_token`

Required:

- `token` (String, Sensitive) KsqlDB cluster bearer token.


<a id="nestedatt--spec--security--ssl_auth"></a>
### Nested Schema for `spec.security.ssl_auth`

Required:

- `certificate_chain` (String) KsqlDB cluster mTLS auth certificate chain PEM.
- `key` (String, Sensitive) KsqlDB cluster mTLS auth private key PEM.






## Import

In order to import a KsqlDB cluster connection into Conduktor, you need to know the Kafka cluster ID and the KsqlDB cluster ID.

The import ID is constructed as follows: `< cluster_id >/< ksqlkdb_cluster_name >`.

For example, using an [`import` block](https://developer.hashicorp.com/terraform/language/import) :
```terraform
import {
  to = conduktor_console_ksqldb_cluster_v2.example
  id = "kafka-cluster/import-ksqldb" # Import "import-ksqldb" KsqlDB cluster for "kafka-cluster" Kafka cluster
}
```

Using the `terraform import` command:
```shell
terraform import conduktor_console_ksqldb_cluster_v2.example kafka-cluster/import-ksqldb
```
