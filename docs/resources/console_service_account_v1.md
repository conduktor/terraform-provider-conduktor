---
page_title: "Conduktor : conduktor_console_service_account_v1"
subcategory: "self-serve/v1"
description: |-
    Resource for managing Conduktor Console Service Accounts.
    This resource allows you to create, read, update and delete service accounts in Conduktor.
---

# conduktor_console_service_account_v1

Resource for managing Conduktor service accounts.
This resource allows you to create, read, update and delete service accounts in Conduktor.

## Example Usage

### Aiven linked service account
This example creates a service account linked to an Aiven flavoured cluster.
```terraform
resource "conduktor_console_service_account_v1" "aiven_sa" {
  name    = "aiven-service-account"
  cluster = "aiven-cluster"
  spec = {
    authorization = {
      aiven = {
        acls = [
          {
            resource_type = "TOPIC"
            name          = "click.event-stream.avro"
            permission    = "readwrite"
          },
          {
            resource_type = "TOPIC"
            name          = "public*"
            permission    = "read"
          },
          {
            resource_type = "SCHEMA"
            name          = "Subject:click.event-stream.avro"
            permission    = "schema_registry_write"
          },
        ]
      }
    }
  }
}
```

### Kafka linked service account
This example creates a service account linked to a generic kafka cluster.
```terraform
resource "conduktor_console_service_account_v1" "kafka_sa" {
  name    = "kafka-service-account"
  cluster = "kafka-cluster"
  labels = {
    domain  = "clickstream"
    appcode = "clk"
  }
  spec = {
    authorization = {
      kafka = {
        acls = [
          {
            name         = "*"
            pattern_type = "LITERAL"
            operations   = ["Describe"]
            type         = "TOPIC"
          },
          {
            name         = "click.event-stream.avro"
            pattern_type = "LITERAL"
            operations   = ["Write", "Read"]
            type         = "TOPIC"
          },
          {
            name         = "public_"
            pattern_type = "PREFIXED"
            operations   = ["Read"]
            type         = "TOPIC"
          },
          {
            name         = "click.event-stream."
            pattern_type = "PREFIXED"
            operations   = ["Read"]
            type         = "CONSUMER_GROUP"
          }
        ]
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cluster` (String) Valid Kafka Cluster name linked with the Service Account
- `name` (String) Service Account name, must be unique, acts as an ID for import
- `spec` (Attributes) Service Accoount specification (see [below for nested schema](#nestedatt--spec))

### Optional

- `app_instance` (String) Reference to the application instance this service account is associated with
- `labels` (Map of String) Custom labels for the service account

<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Required:

- `authorization` (Attributes) Service Account authorization. One of `aiven`, `kafka` (see [below for nested schema](#nestedatt--spec--authorization))

<a id="nestedatt--spec--authorization"></a>
### Nested Schema for `spec.authorization`

Optional:

- `aiven` (Attributes) Aiven type authorization configuration (see [below for nested schema](#nestedatt--spec--authorization--aiven))
- `kafka` (Attributes) Kafka type authorization configuration (see [below for nested schema](#nestedatt--spec--authorization--kafka))

<a id="nestedatt--spec--authorization--aiven"></a>
### Nested Schema for `spec.authorization.aiven`

Required:

- `acls` (Attributes Set) Set of the Aiven ACLs to apply on the service account (see [below for nested schema](#nestedatt--spec--authorization--aiven--acls))

<a id="nestedatt--spec--authorization--aiven--acls"></a>
### Nested Schema for `spec.authorization.aiven.acls`

Required:

- `name` (String) Aiven resource name
- `permission` (String) Aiven resource permission. Valid values are: admin, read, readwrite, schema_registry_read, schema_registry_write, write
- `resource_type` (String) Aiven resource type. Valid values are: SCHEMA, TOPIC



<a id="nestedatt--spec--authorization--kafka"></a>
### Nested Schema for `spec.authorization.kafka`

Required:

- `acls` (Attributes Set) Set of the Kafka ACLs to apply on the service account (see [below for nested schema](#nestedatt--spec--authorization--kafka--acls))

<a id="nestedatt--spec--authorization--kafka--acls"></a>
### Nested Schema for `spec.authorization.kafka.acls`

Required:

- `name` (String) Kafka resource name
- `operations` (Set of String) Set of all operations to apply on the resource. Valid values are: All, Alter, AlterConfigs, ClusterAction, Create, CreateTokens, Delete, Describe, DescribeConfigs, DescribeTokens, IdempotentWrite, Read, Unknown, Write
- `pattern_type` (String) Kafka resource pattern type. Valid values are: LITERAL, PREFIXED
- `type` (String) Kafka resource type. Valid values are: CLUSTER, CONSUMER_GROUP, DELEGATION_TOKEN, TOPIC, TRANSACTIONAL_ID, UNKNOWN, USER

Optional:

- `connect_cluster` (String) Valid Kafka Connect Cluster refrence
- `host` (String) Host of the Kafka cluster. If not set it will default to '*'
- `permission` (String) Permission Type for Access Control Entry. Valid values are: Deny, Allow. If not set it will default to Allow







## Import

In order to import a Console Service Account into Conduktor, you need to know the Kafka cluster ID and the Service Account ID.

The import ID is constructed as follows: `< cluster_id >/< service_account_id >`.

For example, using an [`import` block](https://developer.hashicorp.com/terraform/language/import) :
```terraform
import {
  to = conduktor_console_service_account_v1.example
  id = "my-cluster/my-service-account" # Import "my-service-account" Console Service Account for "my-cluster" Kafka cluster
}
```

Using the `terraform import` command:
```shell
terraform import conduktor_console_service_account_v1.example my-cluster/my-service-account
```
